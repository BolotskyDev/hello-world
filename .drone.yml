kind: pipeline
type: docker
name: default

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage default

---
kind: pipeline
type: docker
name: default-beta

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage default-beta

---
kind: pipeline
type: docker
name: default-gamma

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage default-gamma

---
kind: pipeline
type: docker
name: stage A

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage A
    
depends_on:
  - default
  
---
kind: pipeline
type: docker
name: stage B

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage B
    
depends_on:
  - default

---
kind: pipeline
type: docker
name: stage C

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage C
    
depends_on:
  - default

---
kind: pipeline
type: docker
name: stage D

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage D
    
depends_on:
  - stage A
  - stage B

---
kind: pipeline
type: docker
name: stage E

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage E
    
depends_on:
  - stage C
  
---
kind: pipeline
type: docker
name: stage F

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage F
    - exit 1
    
depends_on:
  - stage A
  - stage C

---
kind: pipeline
type: docker
name: stage G

steps:
  - name: shoutout
    image: alpine
    pull: if-not-exists
    commands:
    - echo hey I belong to stage G
    
depends_on:
  - stage F
  - stage E

trigger:
  event:
    - push
